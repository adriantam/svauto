# Warning: Do not edit this file.
# All configuration changes should be made through Control Center or the CLI mode.
if [ -z ${read_rc_defaults} ]
then
    for i in /usr/local/sandvine/etc/rc.conf.default*
    do
        if [ -f $i ]
        then
            . $i
        fi
    done
fi
read_rc_defaults="YES"
install_base=/usr/local/sandvine
# Change defaults below this line

# Content from:
# - https://git.sandvine.rocks/sandvine/blank-config/src/master/pts/rc.conf
powerview_enabled="true"

spb_servers={{ spb_srvc_ip }}

cluster_name="sandvine"
cluster_stat_name="sandvine"

# Lower RAM requirements
hal_maxFlows=100000
ptsm_numHugePages=256

# License Server
#license_server_primary="licenser-server.placeholder.com"

# Linux PTS config
SetPort os-control 1-1 0000:00:03.0
SetPort os-service 1-2 0000:00:04.0

SetPort fastpath 1-3 0000:00:05.0
SetPort fastpath 1-4 0000:00:06.0

SetPortEnable 1-3
SetPortEnable 1-4

SetPortRoleFunction 1-3 subscriber
SetPortRoleFunction 1-4 internet

SetPortBridgeGroup 1-3 1
SetPortBridgeGroup 1-4 1

diameter_stack_limitInMessageRate="false"
diameter_stack_limitOutMessageRate="false"
diameter_stack_enableCreationFailureLogging="true"
diameter_stack_maxOutgoingPendingRequests=16000
diameter_stack_maxOutgoingPerPeerMessages=2000
diameter_stack_maxOutgoingPerPeerBlockedMessages=2000
diameter_stack_pendingAnswerTimeoutMS=3000
diameter_stack_incomingMaxAgeEarlyThresholdMS=2000
diameter_stack_incomingMaxAgeThresholdIncrementMS=1000
diameter_stack_maxMessageSize=16384
diameter_stack_maxPerSessionBlockedMessages=32
skip_header_counting_mode="padding min64bytes"
ptsd_publicationInterval=60

